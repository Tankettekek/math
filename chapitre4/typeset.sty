\ProvidesPackage{typeset}

%Typesetting packages
\usepackage[a4paper, total={160mm,265mm}]{geometry}
\usepackage{float}
\usepackage{titlesec}
\usepackage{enumitem}
\usepackage[framemethod=pstricks]{mdframed}
\usepackage{xfrac}
\usepackage{hyperref}
%Fonts
\usepackage{fontspec}
\setmainfont{Roboto}
\addfontfeatures{RawFeature=+frac}
%Math packages
\usepackage{mathtools}
\usepackage{pgfplots}
\usepackage{tkz-tab}
\usepackage{forest}
\usepackage{amssymb}

%PGFPLOTS options
\usepgfplotslibrary{fillbetween}
%Compat
\pgfplotsset{compat=1.18}
%PGFPLOTS macro
\pgfplotsset{holdot/.style={color=black,fill=white,only marks,mark=*}}
\usepgfplotslibrary{external}
\tikzexternalize[prefix=pgfplotsfigures/]


%Typesetting of elements
%%Subsubsections
\titleformat{\subsubsection}[runin]
  {\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{}
\titlespacing{\subsubsection}{0em}{0.2em}{1em}

%macro pour les definitions
\newcommand{\definition}[1]{
        \subsubsection*{\underline{DÃ©finition\textit{#1}}}
}

%Box (defbox)
\newmdenv[linecolor=black, linewidth=0.7pt, backgroundcolor=lightgray, innertopmargin=5pt, innerbottommargin=5pt, roundcorner=5pt]{defbox}


\forestset{
  ptree/.style={
    for tree={
      grow'=east,
      sloped,
      text width =4em,
      text centered,
      l sep' = 3em,
      s sep' = 1em,
    },
    before typesetting nodes={
      for tree={
        split option={content}{:}{content, my edge label},
      },
    },
  }, 
  my edge label/.style={
    if={
      > O_= {n'}{1}
    }{
      edge label={node [midway, below, font=\footnotesize] {$#1$} }
    }{
      edge label={node [midway, above, font=\footnotesize] {$#1$} }
    },
  }
}
